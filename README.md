# arduino(HITSZ   大一实验项目)



> 实践是检验真理的唯一标准



### 1.关于本实验

- 本实验是HITSZ自动化专业的大一课设项目

- 本实验的最终目的是造出一辆能够自动巡线, 附带可抓取物体机械臂的DIY小车

  

****



### 2. 个人程序模块介绍

#### **Auto_car**

​		detect.h   ----电压检测模块

​		servo.h  ----舵机模块

​		setup.h  ----常数,引脚等初始化模块

​		pidControl.h  ----pid调速+红外循迹算法

​		sketch_feb13a.ino  ----主程序

​		pid_test.ipynb  ----基于matplotlib的简单pid可视化工具



****



### 3. 个人在调车过程中所遇到的一些问题及解决方法

- *Q.1*  pid调速过程中pwm输出若大于128,电机不受控制全速转动;若小于128,电机不转

  *A.1*  arduino输出pwm口接线错误, 板子只有某些特殊口能输出模拟pwm, 需调整接线

- *Q.2* 接线正确,但是小车跑起来原地打转

  *A.2*  L298N的IN口接反, 可以在程序中将两口调换

- *Q.3* 小车放在黑线上停止, 拿起转动

  *A.3* 将红外循迹模块中的digitalRead() == LOW改成HIGH即可, 具体原理笔者也很迷惑, 该处于实验书中所表述完全相反

- *Q.4* 小车过不了直角弯

  *A.4* 当最外侧的红外模块被触发时先将小车的两轮反向, 再转弯
  
  

****



### 4. 写在最后

2022年8月，我踏进了哈深的校门，开始了自动化专业的求学之旅。

自动化认识与实践，是学校开设的第一门专业课。最开始的几节~~水~~课~~(大概是四节?记不大清了)~~大概介绍了一下自动化专业的发展，然后就要求学生针对前几节课的内容**完成一篇论文**，这也是我上大学接触的第一篇论文。那时确实被一来就要求提交论文的架势吓到了hhh，不过现在看来这其实是一次让我们学会查找资料，学习论文排版的一次好机会~~(如果当时认真对待了的话或许我的心理论文就不会这么低分了qaq)~~。

接下来几个月就是相关知识的学习了，像工图，solidworks，简单元器件的认识，简单机械结构，arduino的简单编程，都是为最后做出循迹小车打基础。但是，由于要在较短课时内学习大量基础知识，导致老师教学普遍很赶，有些老师一页ppt几秒就过去了，所以下面听课的学生普遍在听天书（点名批评xh）。To make things worse，学生在还没完全理解前面知识的情况下又要学习新内容，苦不堪言。最后的结果就是，大多数人实际上根本就没有掌握相关的基础知识，然后又被要求完成一个具有一定挑战性的项目。值得一提的是，老师们似乎并没有意识到这点，自认为该教的都教过了，并且教得非常好，所以在项目后期老师和学生的分歧愈演愈烈，乃至爆发冲突。

当然，不可否认，这一阶段的知识是非常重要的，不仅仅是针对这一课程的分数，更重要的是通过这一阶段的学习可以加深自己对自动化这一学科的理解，理解并弄清电机驱动的基本原理，嵌入式开发入门······

2022年12月，由于疫情，学校停课，学生提前返乡，期末考试也延期至下学期开学。

自动化笔试是安排在返校期末的第一场，并且由于我们是第一批将自动化纳入考试课范畴的学生，往届并没有题目让我们借鉴参考。

首先是填空题，考察了色环电阻，电容符号以及一些基本概念。

然后是简答题，现在只依稀记得考察了二极管的原理~~(其它真不记得了awa)~~

最后是大题，第一题不记得了，第二题是为一个地震检测装置设计程序，第三题是一道考察差速驱动的物理题~~? ?~~，第四题要求默写整个H桥（包括7406，7407，ir2104），第五题工图（较简单）。

考完试后，哀鸿遍野（所以原谅22届没有留下回忆版试卷，考得确实太难了，之前从来没有料到会考这些东西呜呜呜）

接下来就是小车环节了，由于我和我的队友在寒假前已经将小车整体组装完毕，所以一开学就开始上手代码。第一次让小车跑起来真的很兴奋！！！当然，期间也会遇到一些科学无法解释的问题（迫真），尤其是硬件层面的问题，让人完全摸不着头脑。紧赶慢赶还是在第二周周末实现了小车循迹，很有成就感的说！

然后就发生不愉快的事情了，学校先是订的第七周考核~~??(记不得了)~~，然后又提前到第四周，但又迟迟不发考核标准。第三周终于将考核标准公布，但令人大跌眼镜的是学校居然直接照搬往届作为考查课的考核标准，包括不限于：非常离谱的加分（第一名加10分，第二名就没加分了），非常主观的判断标准（“最佳外观奖”）（我们组就是因为这个把线拆了重装结果小车原来代码跑不了要重写），非常无所谓的态度（最后一周突然通知要自己画机械臂并打印，否则扣5分），非常不切实际的观点（“大家都是在一个公平的平台上竞争”，实际硬件差距很大的好吧）······ 同时，学校又说损坏的设备需要单独购买，导致很多同学花了很多的钱（少则几十块，多则几百）来比赛，引发了几近全体自动化人的不满。

在经过大家的抗争后，学校最终同意进行部分妥协，将规则的不合理部分去除，最终在2022.3.19举行考核。我们组所有考核都一遍就通过了，可以说是非常幸运hhh。

最后的最后，希望以后自动化认识与实践这门课能多多接受学生的意见，将这门课打造成适合自动化新生的入门课。

​																																																														2022.3.27凌晨



> 再见了，所有的新世纪自动化小车战士。



****





